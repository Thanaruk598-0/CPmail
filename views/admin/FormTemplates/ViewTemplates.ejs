<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>View Template - <%= template.title %></title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
</head>
<body class="p-4 bg-light">

<div class="container">
  <h3 class="mb-4">Template: <%= template.title %></h3>
  <p class="text-muted"><%= template.description %></p>

  <p><strong>Category:</strong> <%= template.category %></p>
  <p><strong>Status:</strong> <%= template.status %></p>
  <p><strong>Allowed Roles:</strong>
    <% template.allowedRoles.forEach(role => { %>
      <span class="badge bg-info text-dark me-1"><%= role %></span>
    <% }) %>
  </p>

  <h5 class="mt-4">Form Preview</h5>
  <div class="card p-4 shadow-sm">
    <% template.fields.forEach((f, idx) => { %>
      <div class="mb-3">
        <label class="form-label fw-semibold">
          <%= f.label %> <%= f.required ? "*" : "" %>
        </label>

        <% if (f.type === "text") { %>
          <input type="text" class="form-control" placeholder="<%= f.placeholder || '' %>" disabled>
        <% } else if (f.type === "textarea") { %>
          <textarea class="form-control" placeholder="<%= f.placeholder || '' %>" disabled></textarea>
        <% } else if (f.type === "email") { %>
          <input type="email" class="form-control" placeholder="<%= f.placeholder || '' %>" disabled>
        <% } else if (f.type === "number") { %>
          <input type="number" class="form-control" placeholder="<%= f.placeholder || '' %>" disabled>
        <% } else if (f.type === "date") { %>
          <input type="date" class="form-control" disabled>
        <% } else if (f.type === "dropdown") { %>
          <select class="form-select" disabled>
            <% (f.options || []).forEach(opt => { %>
              <option><%= opt %></option>
            <% }) %>
          </select>
        <% } else if (f.type === "radio") { %>
          <% (f.options || []).forEach(opt => { %>
            <div class="form-check">
              <input type="radio" class="form-check-input" disabled>
              <label class="form-check-label"><%= opt %></label>
            </div>
          <% }) %>
        <% } else if (f.type === "checkbox") { %>
          <% (f.options || []).forEach(opt => { %>
            <div class="form-check">
              <input type="checkbox" class="form-check-input" disabled>
              <label class="form-check-label"><%= opt %></label>
            </div>
          <% }) %>
        <% } else if (f.type === "file") { %>
          <input type="file" class="form-control" disabled>
        <% } %>
      </div>
    <% }) %>
  </div>

  <a href="/form-templates" class="btn btn-secondary mt-3">Back</a>
</div>

</body>
</html>